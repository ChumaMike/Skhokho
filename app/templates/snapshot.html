{% extends 'base.html' %}

{% block title %}Weekly Snapshot{% endblock %}

{% block content %}
<h2 class="text-2xl font-bold mb-4">Weekly Snapshot</h2>

<form action="{{ url_for('tools.snapshot') }}" method="post" class="mb-6">
    <label for="location" class="block mb-2 font-medium">Enter Location:</label>
    <div class="flex gap-2 max-w-md">
        <input type="text" name="location" id="location" required class="border px-4 py-2 w-full rounded" placeholder="e.g. Soweto">
        <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition">Get Snapshot</button>
    </div>
</form>

{% if location %}
    <div class="bg-white p-6 rounded shadow mb-4 border-l-4 border-blue-500">
        <h3 class="text-xl font-semibold mb-2">Weather in {{ location }}</h3>
        {% if weather and not weather.error %}
            <p class="text-4xl font-bold mb-2">{{ weather.temperature }}Â°C</p>
            <p class="text-gray-600 capitalize">{{ weather.description }}</p>
        {% else %}
            <p class="text-red-500">Could not fetch weather info.</p>
        {% endif %}
    </div>
    
    {% if quote %}
    <div class="bg-purple-50 p-6 rounded shadow border-l-4 border-purple-500 mt-4">
        <h3 class="text-lg font-bold text-purple-700 mb-1">ðŸ’¡ Daily Vibe</h3>
        <p class="italic text-gray-700">{{ quote }}</p>
    </div>
    {% endif %}
{% endif %}
{% endblock %}